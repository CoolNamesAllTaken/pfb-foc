/*
 * test_framework.hh
 *
 *  Created on: Nov 23, 2020
 *      Author: jkailimcnelly
 */

#ifndef TESTS_INC_TEST_FRAMEWORK_HH_
#define TESTS_INC_TEST_FRAMEWORK_HH_

#include <stdio.h>

extern "C" {
#define LPRINT(...) printf("=====%-50s=====\r\n", __VA_ARGS__) // decorated, left-justified printf
#define TPRINT(...) printf("  " __VA_ARGS__) // indented printf
#define TTPRINT(...) printf("    " __VA_ARGS__)
#define TESTPRINT(...) printf("Starting Test: " __VA_ARGS__)
#define TTESTPRINT(...) printf("  Starting Test: " __VA_ARGS__)
#define FAILPRINT(...) printf("\033[31mTEST FAILED:\033[39m " __VA_ARGS__)
#define TFAILPRINT(...) printf("\033[31m  TEST FAILED:\033[39m " __VA_ARGS__)
#define TTFAILPRINT(...) printf("\033[31m    TEST FAILED:\033[39m " __VA_ARGS__)
#define PASSPRINT(...) printf("\033[32mTEST PASSED:\033[39m " __VA_ARGS__)
#define TPASSPRINT(...) printf("\033[32m  TEST PASSED:\033[39m " __VA_ARGS__)
#define TTPASSPRINT(...) printf("\033[32m    TEST PASSED:\033[39m " __VA_ARGS__)
}

template <class T>
bool CheckEqual(T a, T b) {
	return a == b;
}

template <class T>
bool CheckClose(T a, T b, T margin) {
	return (a - b <= margin) || (b - a <= margin);
}

void RunAllTests();

#endif /* TESTS_INC_TEST_FRAMEWORK_HH_ */
